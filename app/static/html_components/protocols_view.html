<div ng-controller="protocolsCtrl">
  <!--<div ng-include="'/static/html_components/modals/new_project_modal.html'"></div>-->
  <h3 class="sub-header">Protocols</h3>

  <div class="col-md-6">
  	<div class="sub_container">
  		<div class="jumbotron">
  		<h3 class="sub-header">New Protocol</h3>
  		<label for ="protocol_type_selector">Protocol type</label>
		<select ng-model="selectedType" class="form-control" id="protocol_type_selector" ng-change="loadProtocolCreator(selectedType)">
			<option ng-repeat="type in protocol_types">{{type}}</option>
		</select>
		<div class="jumbotron">
	    	<form id="new_protocol_form" ng-submit="addProtocol()">
	    		<div ng-repeat="(key,type) in protocol_type" class="form-group">
	    			<label for="protocol_{{key}}">{{key}}</label>
	    			<input name="protocol_{{key}}" type="text" class="form-control" ng-if="type[0] == 'input' && type[1] == 'text'">
	    			<textarea name="protocol_{{key}}" class="form-control" ng-if="type[0] == 'textarea'"></textarea>
	    			<select  name="protocol_{{key}}" class="form-control" ng-if="type[0] == 'select'">
						<option ng-repeat="option in type[1]">{{option}}</option>
					</select>
	    		</div>
	    		<div class="form-group">
	    			<div class="col-sm-offset-2 col-sm-10">
				        <button type="submit" class="btn btn-default">Create protocol</button>
				      </div>
	    		</div>
	    	</form>
	    </div>
	  	</div>
   	</div>
  </div>

  <div class="col-md-6">
  	<div class="sub_container">
  		<div class="jumbotron">
	  		<h3 class="sub-header">Protocol Type</h3>
			<select ng-model="selectedTypeLoad" class="form-control" id="protocol_type_selector_load" ng-change="loadProtocolType(selectedTypeLoad)">
				<option ng-repeat="type in protocol_types">{{type}}</option>
			</select>
			<select ng-model="selectedProtocolLoad" class="form-control" id="protocol_selector_load" ng-change="loadProtocol(selectedProtocolLoad)">
				<option ng-repeat="protocol in protocols_of_type">{{protocol}}</option>
			</select>
			<br>
	   		<div>
	   			<span ng-repeat="(key,val) in selected_protocol"><b>{{key}}: </b>{{val}}<br></span>
	   		</div>
	  	</div>
   	</div>
  </div>
</div>